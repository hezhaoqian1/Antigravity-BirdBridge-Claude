<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Antigravity Desktop</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <main class="shell">
    <header class="app-header">
      <div class="logo-section">
        <div class="logo">
          <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
            <defs>
              <linearGradient id="logoGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#8b5cf6"/>
                <stop offset="100%" style="stop-color:#3b82f6"/>
              </linearGradient>
            </defs>
            <circle cx="20" cy="20" r="18" stroke="url(#logoGrad)" stroke-width="3" fill="none"/>
            <path d="M14 20 L20 14 L26 20 L20 26 Z" fill="url(#logoGrad)"/>
            <circle cx="20" cy="20" r="4" fill="#fff"/>
          </svg>
        </div>
        <div class="app-title">
          <h1>Antigravity</h1>
          <p class="subtitle">Claude Code Proxy</p>
        </div>
      </div>
      <div class="header-actions">
        <button id="logs-btn" class="icon-btn" title="View Logs">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
            <polyline points="14 2 14 8 20 8"/>
            <line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/>
            <polyline points="10 9 9 9 8 9"/>
          </svg>
        </button>
      </div>
    </header>

    <section class="status-hero">
      <div class="status-ring">
        <div id="status-indicator" class="indicator indicator-idle">
          <div class="pulse-ring"></div>
        </div>
      </div>
      <div class="status-info">
        <p id="status-text" class="status-text">Proxy Stopped</p>
        <small id="status-meta" class="status-meta">Port — · Account —</small>
      </div>
    </section>

    <section class="action-buttons">
      <button id="start-btn" class="btn-primary">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <polygon points="5 3 19 12 5 21 5 3"/>
        </svg>
        Start Proxy
      </button>
      <button id="stop-btn" class="btn-secondary" disabled>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <rect x="6" y="6" width="12" height="12" rx="2"/>
        </svg>
        Stop
      </button>
    </section>

    <section class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon port-icon">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="8" x2="12" y2="12"/>
            <line x1="12" y1="16" x2="12" y2="16"/>
          </svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Port</span>
          <strong id="port-value">8080</strong>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon lan-icon">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12.55a11 11 0 0 1 14.08 0"/>
            <path d="M1.42 9a16 16 0 0 1 21.16 0"/>
            <path d="M8.53 16.11a6 6 0 0 1 6.95 0"/>
            <circle cx="12" cy="20" r="1"/>
          </svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">LAN Access</span>
          <strong id="lan-value">Disabled</strong>
        </div>
      </div>
      <div class="stat-card account-card">
        <div class="stat-icon account-icon">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Active Account</span>
          <strong id="account-value" class="account-email">—</strong>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon time-icon">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <polyline points="12 6 12 12 16 14"/>
          </svg>
        </div>
        <div class="stat-content">
          <span class="stat-label">Last Update</span>
          <strong id="updated-value">—</strong>
        </div>
      </div>
    </section>

    <section class="quick-actions">
      <button id="dashboard-btn" class="action-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="7" height="7"/>
          <rect x="14" y="3" width="7" height="7"/>
          <rect x="14" y="14" width="7" height="7"/>
          <rect x="3" y="14" width="7" height="7"/>
        </svg>
        Dashboard
      </button>
      <button id="repair-btn" class="action-btn">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
        </svg>
        Configure CLI
      </button>
    </section>

    <section id="config-warning" class="warning-banner hidden">
      <div class="warning-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2L1 21h22L12 2zm0 3.8L19.5 19H4.5L12 5.8zM11 10v4h2v-4h-2zm0 6v2h2v-2h-2z"/>
        </svg>
      </div>
      <div class="warning-content">
        <strong>Claude CLI Not Configured</strong>
        <p>
          <code id="config-path">~/.claude/settings.json</code>
          doesn't point to this proxy. Click "Configure CLI" to fix.
        </p>
      </div>
    </section>

    <section class="error-section">
      <div class="error-header">
        <span class="error-label">Status Log</span>
        <span id="error-indicator" class="error-dot hidden"></span>
      </div>
      <div id="error-box" class="error-box">Ready</div>
    </section>

    <footer class="app-footer">
      <span>Antigravity BirdBridge</span>
      <span class="version">v0.1.0</span>
    </footer>
  </main>

  <script type="module" src="./main.js"></script>
</body>

</html>
